# databricks.yml
# Databricks Asset Bundle configuration file
# Defines bundle name and environment targets for deployment

bundle:
  name: my_bundle  # Name of the Databricks Asset Bundle

# Define deployment targets for different environments
# Each target specifies workspace host and root_path as parameterized placeholders
# Only 'dev' is set as the default target

targets:
  dev:
    default: true  # Set 'dev' as the default deployment target
    workspace:
      host: https://dbc-d56de9ca-1926.cloud.databricks.com/ 
      root_path: "/Workspace/pipa2/"  # Root path for dev environment
  qa:
    workspace:
      host: https://dbc-d56de9ca-1926.cloud.databricks.com/
      root_path: "/Workspace/pipa2/"  # Root path for QA environment
  prod:
    workspace:
      host: https://dbc-d56de9ca-1926.cloud.databricks.com/
      root_path: "/Workspace/pipa2/"  # Root path for Prod environment

resources:
  jobs:
    pytest:
      name: pytest
      tasks:
        - task_key: pytest
          notebook_task:
            notebook_path: /Workspace/pipa2/files/pytest/test_file
            source: WORKSPACE
      queue:
        enabled: true
      performance_target: STANDARD

    smoke_test:
      name: smoke_test
      tasks:
        - task_key: Smoketest
          notebook_task:
            notebook_path: /Workspace/pipa2/files/smoke_test/smoke_test
            source: WORKSPACE
      queue:
        enabled: true
      performance_target: STANDARD
 

